{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(sh:*)",
      "Bash(export PATH=\"$HOME/.local/bin:$PATH\")",
      "Bash(uv pip install:*)",
      "Bash(uv venv:*)",
      "Bash(source .venv/Scripts/activate)",
      "Bash(playwright install:*)",
      "Bash(python:*)",
      "Bash(uv run:*)",
      "Bash(timeout /t 30)",
      "Bash(nul)",
      "Bash(cat:*)",
      "Bash(tee:*)",
      "Bash($env:PYTHONIOENCODING=\"utf-8\")",
      "Bash(Out-File -Encoding utf8 judge_output.txt)",
      "Bash(Get-Content judge_output.txt)",
      "Bash(cmd.exe /c \"dir /s /b \"\"C:\\Program Files\\claude.exe\"\" 2>nul\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Implementa 4 melhorias crÃ­ticas de qualidade (meta 7.8-8.4/10)\n\nMELHORIAS IMPLEMENTADAS:\n\n1. EndereÃ§o Blue Note Corrigido (config.py)\n   - Atualizado para \"Av. AtlÃ¢ntica, 1910 - Copacabana, Rio de Janeiro - RJ\"\n   - Adicionada variante \"Av. AtlÃ¢ntica, 1910, Leme, Rio de Janeiro\"\n   - Impacto esperado: +0.3 a +0.5 pontos (~15 eventos afetados)\n\n2. ValidaÃ§Ã£o Robusta de Links com Redirects (utils/http_client.py)\n   - NÃ£o segue redirects automaticamente (follow_redirects=False)\n   - Valida destino final de redirects explicitamente\n   - Detecta redirects que levam a pÃ¡ginas 404 ou genÃ©ricas\n   - Resolve race condition entre verify_agent e judge_agent\n   - Impacto esperado: +0.4 a +0.6 pontos (~12 eventos com links 404 corrigidos)\n\n3. Judge Agent Mais Permissivo para Correlatos (agents/judge_agent.py)\n   - Aceita eventos correlatos e similares ao prompt\n   - Exemplos vÃ¡lidos: Concertos + Recitais, Jazz + Bossa Nova, Teatro + Stand-up\n   - InstruÃ§Ãµes explÃ­citas sobre eventos relacionados\n   - Impacto esperado: +0.3 a +0.5 pontos (~8 eventos correlatos agora vÃ¡lidos)\n\n4. CritÃ©rios de Julgamento Separados - 4 ao invÃ©s de 3 (agents/judge_agent.py)\n   - SeparaÃ§Ã£o de data/horÃ¡rio em critÃ©rio prÃ³prio (30% de peso)\n   - Nova estrutura de pesos: 30% AderÃªncia + 30% CorrelaÃ§Ã£o + 30% Data + 10% Completude\n   - PenalizaÃ§Ã£o mais severa para erros crÃ­ticos de data (diferenÃ§a de meses/anos)\n   - Eventos com bom conteÃºdo mas data errada nÃ£o sÃ£o mais penalizados duplamente\n   - Impacto esperado: +0.2 a +0.4 pontos (melhora scoring de ~10 eventos)\n\nBASELINE ATUAL: 6.62/10 (5 alta qualidade, 47 mÃ©dia, 3 baixa)\nRESULTADO ESPERADO: 7.8 a 8.4/10\n\nGenerated with Claude Code (https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Priorizar scrapers oficiais e exibir scores de qualidade\n\nMudanÃ§as principais:\n\n1. **PriorizaÃ§Ã£o de scrapers sobre Perplexity** (search_agent.py)\n   - Blue Note: Links oficiais de bluenoterio.com.br tÃªm prioridade\n   - Sala CecÃ­lia Meireles: Links do site governamental tÃªm prioridade\n   - CCBB: Links oficiais de ccbb.com.br tÃªm prioridade\n   - Reduz links quebrados ao priorizar fontes oficiais\n   - Perplexity usado como complemento para eventos nÃ£o encontrados\n\n2. **ExibiÃ§Ã£o de scores de qualidade no calendÃ¡rio** (web/app.py)\n   - API /api/events agora carrega judged_events.json se disponÃ­vel\n   - Scores aparecem automaticamente no modal do calendÃ¡rio\n   - Fallback para arquivos anteriores se julgamento nÃ£o executado\n\n3. **CorreÃ§Ãµes de consolidaÃ§Ã£o de cinema** (config.py, prompts/search_prompts.yaml)\n   - Removido \"mostra\" de CONTINUOUS_EVENT_KEYWORDS\n   - Prompt de cinema especifica: 1 filme = 1 evento separado\n   - Threshold de similaridade aumentado de 0.90 para 0.98\n   - ExceÃ§Ã£o para eventos de cinema no consolidador\n\n4. **Melhorias no julgamento de qualidade** (judge_agent.py)\n   - CritÃ©rio de consistÃªncia tÃ­tulo vs descriÃ§Ã£o\n   - PenalizaÃ§Ã£o para eventos genÃ©ricos com descriÃ§Ãµes especÃ­ficas\n   - Batch size otimizado: 5 â†’ 10 eventos por chamada GPT-5\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(iconv:*)",
      "Bash(git commit:*)",
      "Bash(dir:*)",
      "Bash(\"c:\\Users\\andre\\Documents\\busca-eventos-rio\\test_teatro_municipal_scraper.py\")",
      "Bash(\"c:\\Users\\andre\\Documents\\busca-eventos-rio\\test_cecilia_meireles_links.py\")",
      "Bash(chcp:*)",
      "Bash(del:*)",
      "Bash(pip install:*)",
      "Bash(findstr:*)",
      "Bash(git stash:*)",
      "Bash(cmd /c \"dir output\\latest\")",
      "Bash(Get-ChildItem :*)",
      "Bash(Sort-Object LastWriteTime -Descending)",
      "Bash(Select-Object -First 10 FullName, LastWriteTime)"
    ],
    "deny": [],
    "ask": []
  }
}
